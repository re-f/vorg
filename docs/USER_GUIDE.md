# VOrg 用户使用指南

## 🚀 快速开始

### 安装与激活
1. 在 VS Code 中按 `F5` 启动扩展开发模式
2. 创建或打开 `.org` 文件
3. 扩展自动激活，支持语法高亮

### 基本操作

#### 打开预览
1. **工具栏按钮**：点击编辑器右上角的预览图标
2. **命令面板**：`Ctrl+Shift+P` → 搜索 "VOrg: Open Preview"
3. **快捷键**：`Ctrl+Shift+V` (Windows/Linux) 或 `Cmd+Shift+V` (Mac)

#### 并排预览
1. **命令面板**：`Ctrl+Shift+P` → 搜索 "VOrg: Open Preview to the Side"
2. **快捷键**：`Ctrl+K V` (Windows/Linux) 或 `Cmd+K V` (Mac)

#### 文档大纲导航
1. **Outline 面板**：查看 VS Code 侧边栏的 "Outline" 部分
2. **符号搜索**：`Ctrl+Shift+O` (Windows/Linux) 或 `Cmd+Shift+O` (Mac)
3. **面包屑导航**：查看编辑器顶部的导航路径
4. **快速跳转**：点击大纲中的任意项目直接跳转

#### 智能编辑功能（类似 Emacs org-meta-return）
1. **智能插入**：`Alt+Enter`
   - 在标题中：插入同级新标题
   - 在列表项中：插入新列表项
   - 在任务列表中：插入新任务项
   - 在表格中：插入新表格行
   - 在空行中：转换为标题
   
2. **智能回车**：`Ctrl+Alt+Enter` (Windows/Linux) 或 `Cmd+Ctrl+Enter` (Mac)
   - 在标题中：在当前子树末尾插入同级标题
   - 其他位置：执行常规智能插入
   
3. **插入TODO标题**：`Shift+Alt+Enter`
   - 插入新的TODO标题，自动继承当前级别

## 📝 Org-mode 语法指南

### 标题
```org
* 一级标题
** 二级标题
*** 三级标题
**** 四级标题
***** 五级标题
****** 六级标题
```

### 文本格式
```org
*粗体文本*
/斜体文本/
_下划线文本_
=代码文本=
~等宽字体~
```

### 列表

#### 无序列表
```org
- 第一项
- 第二项
  - 子项目
  - 另一个子项目
- 第三项
```

#### 有序列表
```org
1. 第一步
2. 第二步
   1. 子步骤
   2. 另一个子步骤
3. 第三步
```

#### 任务列表
```org
- [ ] 未完成任务
- [X] 已完成任务
- [-] 部分完成任务
```

### 代码块
```org
#+BEGIN_SRC javascript
function hello() {
    console.log("Hello, VOrg!");
}
#+END_SRC
```

### 表格
```org
| 姓名 | 年龄 | 城市 |
|------|------|------|
| 张三 | 25   | 北京 |
| 李四 | 30   | 上海 |
```

### 链接
```org
[[https://orgmode.org][Org Mode 官网]]
[[#标题][内部链接]]
```

### 引用块
```org
#+BEGIN_QUOTE
这是一个引用块的示例。
可以包含多行文本。
#+END_QUOTE
```

### 文档元数据
```org
#+TITLE: 文档标题
#+AUTHOR: 作者姓名
#+DATE: 2024-01-01
```

## 🔄 实时预览功能

### 自动更新
- 编辑文档时，预览窗口会自动更新
- 无需手动刷新或保存文件
- 支持大文档的快速渲染

### 滚动同步
- 在编辑器中滚动时，预览窗口会自动同步
- 顶部蓝色进度条显示当前滚动位置
- 支持平滑滚动动画

### 主题适配
- 自动适配 VS Code 当前主题
- 支持明暗模式切换
- 保持与编辑器一致的视觉体验

## 📋 文档大纲功能

### 自动解析
- **标题识别**：自动识别所有级别的标题（`*` 到 `******`）
- **属性提取**：解析文档属性如 `#+TITLE:`、`#+AUTHOR:` 等
- **标签显示**：显示标题中的标签（如 `:important:urgent:`）
- **实时更新**：编辑文档时大纲自动更新

### 使用 Outline 面板
1. **打开面板**：在 VS Code 侧边栏找到 "Outline" 面板
2. **查看结构**：以树状结构显示文档层级
3. **快速导航**：点击任意项目直接跳转到对应位置
4. **符号类型**：不同类型的符号使用不同图标区分

### 符号搜索功能
1. **打开搜索**：按 `Ctrl+Shift+O` (Windows/Linux) 或 `Cmd+Shift+O` (Mac)
2. **输入关键词**：搜索标题、属性名称等
3. **快速跳转**：选择搜索结果直接跳转
4. **模糊搜索**：支持部分匹配和模糊搜索

### 面包屑导航
- **位置显示**：在编辑器顶部显示当前位置的层级路径
- **快速返回**：点击面包屑中的任意层级快速跳转
- **上下文感知**：根据光标位置自动更新面包屑

### 大纲最佳实践
1. **标题层级**：使用清晰的标题层级结构（避免跳级）
2. **有意义的标题**：使用描述性的标题名称
3. **文档属性**：在文档开头添加 TITLE、AUTHOR 等属性
4. **标签使用**：为重要章节添加标签便于识别

### 大纲功能示例
```org
#+TITLE: 项目文档
#+AUTHOR: 开发团队
#+DATE: 2024-01-01

* 项目概述 :overview:
** 项目目标
** 技术栈

* 功能设计 :design:important:
** 核心功能
*** 用户管理
*** 数据处理
** 扩展功能

* 开发计划 :planning:
** 第一阶段
** 第二阶段
```
上述示例将在大纲中显示为：
- 📌 TITLE: 项目文档
- 📌 AUTHOR: 开发团队  
- 📌 DATE: 2024-01-01
- 📁 项目概述 `:overview:`
  - 📂 项目目标
  - 📂 技术栈
- 📁 功能设计 `:design:important:`
  - 📂 核心功能
    - 🔧 用户管理
    - 🔧 数据处理
  - 📂 扩展功能
- 📁 开发计划 `:planning:`
  - 📂 第一阶段
  - 📂 第二阶段

## 🎯 使用技巧

### 提高效率
1. **使用快捷键**：熟记 `Ctrl+K V` 快速打开并排预览
2. **并排编辑**：利用并排模式实现真正的所见即所得编辑
3. **滚动同步**：利用滚动同步功能快速定位内容
4. **大纲导航**：使用 `Ctrl+Shift+O` 快速在文档中跳转
5. **面板布局**：将 Outline 面板固定在侧边栏以便随时查看文档结构

### 最佳实践
1. **文档结构**：使用清晰的标题层级组织内容
2. **代码块**：为代码块指定语言以获得更好的高亮效果
3. **表格格式**：保持表格格式整齐以获得最佳渲染效果
4. **大纲友好**：为标题使用描述性名称，便于在大纲中识别
5. **标签系统**：合理使用标签对重要章节进行分类
6. **文档属性**：在文档开头添加完整的元数据信息

## ❓ 常见问题

### Q: 为什么看不到 VOrg 命令？
A: 确保：
1. 扩展已正确加载
2. 当前文件是 `.org` 格式，或者在命令面板中直接搜索 "VOrg"

### Q: 预览窗口不更新怎么办？
A: 尝试：
1. 重新打开预览窗口
2. 检查文档语法是否正确
3. 重启 VS Code

### Q: 滚动同步不工作？
A: 确保：
1. 使用的是并排预览模式
2. 编辑器和预览窗口都处于活动状态
3. 文档内容足够长以产生滚动

### Q: 如何自定义预览样式？
A: 当前版本自动适配 VS Code 主题，未来版本将支持自定义样式。

### Q: 大纲面板显示为空怎么办？
A: 检查：
1. 确保文档包含标题（以 `*` 开头的行）
2. 标题格式正确（星号后需要空格）
3. 重新打开文档或重启 VS Code

### Q: 符号搜索找不到内容？
A: 确保：
1. 使用正确的快捷键 `Ctrl+Shift+O` (Windows/Linux) 或 `Cmd+Shift+O` (Mac)
2. 搜索的内容确实存在于文档中
3. 标题格式符合 Org-mode 规范

### Q: 面包屑导航不显示？
A: 检查：
1. VS Code 设置中启用了面包屑导航功能
2. 当前光标位置在有效的标题层级中
3. 文档结构解析正确

### Q: 大纲中的标签不显示？
A: 确保：
1. 标签格式正确（如 `:tag1:tag2:`）
2. 标签位于标题行的末尾
3. 标签前后有适当的空格

## 🔧 故障排除

### 性能问题
- 对于超大文档，可以尝试关闭其他预览窗口
- 确保 VS Code 有足够的内存资源

### 渲染问题
- 检查 Org-mode 语法是否正确
- 查看 VS Code 开发者控制台的错误信息
- 尝试重新打开预览窗口

## 📞 获取帮助

如果遇到问题或有改进建议：

1. **查看文档**：首先查看 README 和功能文档
2. **搜索问题**：在 GitHub Issues 中搜索类似问题
3. **提交反馈**：创建新的 GitHub Issue 描述问题
4. **功能建议**：参与 GitHub Discussions 讨论新功能 
